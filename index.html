<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Events!</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

  </head>

  <body>

    <nav class="navbar navbar-expand navbar-default bg-default nav_custom">
        <a class="navbar-brand" href="#">Hang Man: Historical</a>

        <div class="collapse navbar-collapse" id=navButtons>
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="#">Opt 1</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Opt 2</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Opt 3</a>
                </li>

            </ul>
        </div>
    </nav>

    <div class="container">
      <div class="row">
        <div class="col-md-offset-2 col-md-8">
          <div class="jumbotron">
            <h2>Guess A Letter <span id="rnd-word"><strong></strong></span></h2>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-offset-2 col-md-8">
          <div class="jumbotron">
            <h2>Wrong Guess <span id="wrong-letter"><strong></strong></span></h2>
          </div>
        </div>
      </div>
    </div>

    <!-- script needs to be at the end of the document so that the elements
         have loaded by the time that we need them -->
    <script type="text/javascript">
      // Let's start by grabbing a reference to the <span> below.
      var userStats = {
        numWins: 0,
        totalPlays: 0,
        points: 0
      },
      var guessObj = {
        currentGuess: "",
        randomWord: "",
        wordUnderline: "",
        arWords: ["BASIL"],
        arWrongGuess: [],
        createRandomWord: function(){
          this.randomWord = this.arWords[Math.floor(Math.random()*this.arWords.length)];
        },
        getRandomWord: function(){
          return this.randomWord;
        },
        buildSpacesString: function(str){
          var spaces = "";
          for(var i = 0; i<str.length; i++){
            spaces += "_";
          }
          return spaces;
        },
        setWordUnderline: function(str){
          this.wordUnderline = this.buildSpacesString(str);
        },
        replaceSpaceWithCorrectGuess: function(char){
          for (var i = 0; i<this.randomWord.length; i++){
            if(this.randomWord.charAt(i) === char){
              //this.wordUnderline = char;  TODO function to splice in char for cur letter
              this.wordUnderline = this.wordUnderline.substr(0, i)+ char +this.wordUnderline.substr(i + char.length);
            }
          }
          return this.wordUnderline;
        }, 
        collectWrongGuess: function(char){
          if(this.randomWord !== "undefined" && !this.randomWord.includes(char)){
            this.arWrongGuess.push(char)
          }
        }
      }

      var randEl = document.getElementById("rnd-word");
      var wrongEl = document.getElementById("wrong-letter");

      document.body.onload = function(){
        //alert("load");
        guessObj.createRandomWord();
        var randomWord = guessObj.getRandomWord();
        guessObj.setWordUnderline(guessObj.randomWord);
        randEl.textContent = guessObj.buildSpacesString(randomWord);
      };

      document.onkeyup = function(event) {
        var char = event.key.charAt(0).toUpperCase();
        while(!char.match(/[A-Za-z]/gi)){
          char = prompt("You must enter a letter")
        }
        randEl.textContent = guessObj.replaceSpaceWithCorrectGuess(char);
        guessObj.collectWrongGuess(char);
        wrongEl.textContent = guessObj.arWrongGuess.toString();
        if(guessObj.arWRongGuess > 8){

        }
      };
    </script>
  </body>
</html>
